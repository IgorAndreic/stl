{"ast":null,"code":"import React,{useState,useEffect}from'react';import{createText3DModel,generateSTL,fetchFonts}from'../api/text3dmodels';import'./css/TextToSTLForm.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TextToSTLForm=_ref=>{let{setUrl}=_ref;const[text,setText]=useState('');const[fontSize,setFontSize]=useState(100);const[fonts,setFonts]=useState([]);const[selectedFont,setSelectedFont]=useState('');useEffect(()=>{const loadFonts=async()=>{try{const response=await fetchFonts();setFonts(response.data);if(response.data.length>0){setSelectedFont(response.data[0].id);}}catch(error){console.error('Error fetching fonts:',error);}};loadFonts();},[]);const handleSubmit=async event=>{event.preventDefault();try{const response=await createText3DModel({text,font_size:fontSize,font:selectedFont});const id=response.data.id;const generateResponse=await generateSTL(id,'generatestl');const fileName=generateResponse.data.filename;setUrl(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/\").concat(fileName));}catch(error){console.error('Error generating STL file:',error);}};return/*#__PURE__*/_jsxs(\"form\",{className:\"text-to-stl-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text-input\",children:\"Text:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"text-input\",type:\"text\",value:text,onChange:e=>setText(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"font-size-input\",children:\"Font Size:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"font-size-input\",type:\"number\",value:fontSize,onChange:e=>setFontSize(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"font-select\",children:\"Font:\"}),/*#__PURE__*/_jsx(\"select\",{id:\"font-select\",value:selectedFont,onChange:e=>setSelectedFont(e.target.value),children:fonts.map(font=>/*#__PURE__*/_jsx(\"option\",{value:font.id,children:font.name},font.id))})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create STL\"})]});};export default TextToSTLForm;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}